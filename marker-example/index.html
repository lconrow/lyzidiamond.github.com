<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoibHl6aWRpYW1vbmQiLCJhIjoiRkh4OW9layJ9.P2o48WlCqjhGmqoFJl3C_A';
var geojson = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "name": "circle",
        "icon": {
            "iconUrl": "circle.png",
            "iconSize": [50, 50]
        }
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -66.324462890625,
          -16.024695711685304
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "diamond",
        "icon": {
            "iconUrl": "diamond.png",
            "iconSize": [50, 50]
        }
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -63.797607421875,
          -14.572950835033037
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "square",
        "icon": {
            "iconUrl": "square.png",
            "iconSize": [50, 50]
        }
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -61.2158203125,
          -15.97189158092897
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "star",
        "icon": {
            "iconUrl": "star.png",
            "iconSize": [50, 50]
        }
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -61.80908203125,
          -17.926475979176438
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "triangle",
        "icon": {
            "iconUrl": "triangle.png",
            "iconSize": [50, 50]
        }
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -63.29223632812499,
          -18.28151823530889
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "wye",
        "icon": {
            "iconUrl": "wye.png",
            "iconSize": [50, 50]
        }
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -66.104736328125,
          -17.329664329425047
        ]
      }
    }
  ]
}
var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'mapbox://styles/mapbox/streets-v9', //stylesheet location
    center: [-65.017, -16.457], // starting position
    zoom: 6 // starting zoom
});

// add markers to map

for (var i = 0; i < geojson.features.length; i++) {
    var feature = geojson.features[i];
    var div = document.createElement('div');
    div.setAttribute('id', feature.properties.name);
    div.style["width"] = feature.properties.icon.iconSize[0] + "px";
    div.style["height"] = feature.properties.icon.iconSize[1] + "px";
    div.style["background-image"] = "url(" + feature.properties.icon.iconUrl + ")";
    div.style["background-position"] = "center center";
    div.style["background-size"] = "contain";
    var marker = new mapboxgl.Marker(div)
                    .setLngLat(feature.geometry.coordinates)
                    .addTo(map);
}

</script>

</body>
</html>
